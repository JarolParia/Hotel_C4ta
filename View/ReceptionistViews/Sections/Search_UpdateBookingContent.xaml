<UserControl x:Class="Hotel_C4ta.View.ReceptionistViews.Sections.Search_UpdateBookingContent"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="White"
             Padding="10">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <TextBlock Grid.Row="0"
                   Text="🔍 Buscar / Editar Reserva"
                   FontSize="20"
                   FontWeight="Bold"
                   Foreground="#4B0082"
                   Margin="0,0,0,10"/>

        <!-- DATA GRID -->
        <DataGrid x:Name="BookingsGrid"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  SelectionMode="Single"
                  SelectionUnit="FullRow"
                  CanUserAddRows="False"
                  AlternatingRowBackground="#F5F5F5"
                  RowHeight="32"
                  SelectionChanged="BookingsGrid_SelectionChanged"
                  Margin="0,0,0,10">
            <DataGrid.ColumnHeaderStyle>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="Background" Value="#4B0082"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="Height" Value="34"/>
                </Style>
            </DataGrid.ColumnHeaderStyle>

            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="Cliente (DNI)" Binding="{Binding DniClient}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="Habitación" Binding="{Binding RoomNumber}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="Recepcionista" Binding="{Binding IdRecepcionist}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="Fecha Inicio" Binding="{Binding StartDate}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="Fecha Fin" Binding="{Binding EndDate}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="Estado" Binding="{Binding Status_}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="Precio Estimado" Binding="{Binding EstimatedPrice}" Width="*" CanUserResize="False"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- FORMULARIO DE EDICIÓN -->
        <Border Grid.Row="2" Background="White" CornerRadius="8"
                BorderBrush="#E0E0E0" BorderThickness="1" Padding="12">
            <StackPanel>
                <TextBlock Text="Detalles de la Reserva"
                           FontSize="16"
                           FontWeight="Bold"
                           Foreground="#4B0082"
                           Margin="0,0,0,10"/>

                <UniformGrid Columns="2" Rows="4" Margin="0,0,0,10">
                    <StackPanel Margin="5">
                        <TextBlock Text="Cliente (DNI)"/>
                        <ComboBox x:Name="CmbClient"/>
                    </StackPanel>
                    <StackPanel Margin="5">
                        <TextBlock Text="Habitación"/>
                        <ComboBox x:Name="CmbRoom"/>
                    </StackPanel>
                    <StackPanel Margin="5">
                        <TextBlock Text="Recepcionista"/>
                        <TextBox x:Name="TxtReceptionist" IsReadOnly="True"/>
                    </StackPanel>
                    <StackPanel Margin="5">
                        <TextBlock Text="Estado"/>
                        <ComboBox x:Name="CmbStatus">
                            <ComboBoxItem Content="Pendiente"/>
                            <ComboBoxItem Content="Confirmada"/>
                            <ComboBoxItem Content="Cancelada"/>
                        </ComboBox>
                    </StackPanel>
                    <StackPanel Margin="5">
                        <TextBlock Text="Fecha Inicio"/>
                        <DatePicker x:Name="DpStartDate"/>
                    </StackPanel>
                    <StackPanel Margin="5">
                        <TextBlock Text="Fecha Fin"/>
                        <DatePicker x:Name="DpEndDate"/>
                    </StackPanel>
                    <StackPanel Margin="5">
                        <TextBlock Text="Precio Estimado"/>
                        <TextBox x:Name="TxtEstimatedPrice" IsReadOnly="True"/>
                    </StackPanel>
                </UniformGrid>

                <!-- BOTONES -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button x:Name="BtnUpdate" Content="Actualizar"
                            Width="100" Margin="0,0,8,0"
                            Background="#4B0082" Foreground="White" Click="BtnUpdate_Click"/>
                    <Button x:Name="BtnDelete" Content="Eliminar"
                            Width="90" Margin="0,0,8,0"
                            Background="#B00020" Foreground="White" Click="BtnDelete_Click"/>
                    <Button x:Name="BtnCancel" Content="Cancelar"
                            Width="90" Background="#888" Foreground="White" Click="BtnCancel_Click"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
