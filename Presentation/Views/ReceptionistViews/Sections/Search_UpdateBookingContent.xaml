<UserControl x:Class="Hotel_C4ta.Presentation.Views.ReceptionistViews.Sections.Search_UpdateBookingContent"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Hotel_C4ta.Presentation.Views.ReceptionistViews.Sections"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <TextBlock Grid.Row="0" 
                   Text="🔍 Search / Update Booking"
                   FontSize="20"
                   FontWeight="Bold"
                   Foreground="#4B0082"
                   Margin="0,0,0,10"/>

        <!-- DATA GRID -->
        <DataGrid x:Name="BookingsGrid"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  SelectionMode="Single"
                  SelectionUnit="FullRow"
                  CanUserAddRows="False"
                  AlternatingRowBackground="#F5F5F5"
                  RowHeight="32"
                  Margin="0,0,0,10"
                  SelectionChanged="BookingsGrid_SelectionChanged" >
            <DataGrid.ColumnHeaderStyle>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="Background" Value="#4B0082"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="Height" Value="34"/>
                </Style>
            </DataGrid.ColumnHeaderStyle>

            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding BookingID}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="Client (DNI)" Binding="{Binding ClientDNI}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="Room" Binding="{Binding RoomID}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="Start Date" Binding="{Binding StartDate}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="End Date" Binding="{Binding EndDate}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="Status" Binding="{Binding BookingStatus}" Width="*" CanUserResize="False"/>
                <DataGridTextColumn Header="Estimated Price" Binding="{Binding EstimatedPrice}" Width="*" CanUserResize="False"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- FORMULARIO DE EDICIÓN -->
        <Border Grid.Row="2" Background="White" CornerRadius="8"
                BorderBrush="#E0E0E0" BorderThickness="1" Padding="12">
            <StackPanel>
                <TextBlock Text="Booking Details"
                           FontSize="16"
                           FontWeight="Bold"
                           Foreground="#4B0082"
                           Margin="0,0,0,10"/>

                <UniformGrid Columns="2" Rows="4" Margin="0,0,0,10">
                    <StackPanel Margin="5">
                        <TextBlock Text="Client (DNI)" IsEnabled="False"/>
                        <TextBox x:Name="TxtClient"/>
                    </StackPanel>

                    <StackPanel Margin="5">
                        <TextBlock Text="Room" IsEnabled="False"/>
                        <TextBox x:Name="TxtRoom"/>
                    </StackPanel>
                    <StackPanel Margin="5">
                        <TextBlock Text="Status"/>
                        <ComboBox x:Name="CmbStatus" SelectedIndex="0">
                            <ComboBoxItem Content="Pending"/>
                            <ComboBoxItem Content="Confirmed"/>
                            <ComboBoxItem Content="Canceled"/>
                        </ComboBox>
                    </StackPanel>
                    <StackPanel Margin="5">
                        <TextBlock Text="Start Date"/>
                        <DatePicker x:Name="DpStartDate" SelectedDateChanged="DateChanged" />
                    </StackPanel>
                    <StackPanel Margin="5">
                        <TextBlock Text="End Date"/>
                        <DatePicker x:Name="DpEndDate" SelectedDateChanged="DateChanged" />
                    </StackPanel>
                    <StackPanel Margin="5">
                        <TextBlock Text="Estimated Price"/>
                        <TextBox x:Name="TxtEstimatedPrice" IsReadOnly="True"/>
                    </StackPanel>
                </UniformGrid>

                <!-- BOTONES -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button x:Name="BtnUpdate" Content="Update"
                            Width="100" Margin="0,0,8,0"
                            Background="#4B0082" Foreground="White" Click="BtnUpdate_Click"/>
                    <Button x:Name="BtnDelete" Content="Delete"
                            Width="90" Margin="0,0,8,0"
                            Background="#B00020" Foreground="White" Click="BtnDelete_Click" />
                    <Button x:Name="BtnCancel" Content="Cancel"
                            Width="90" Background="#888" Foreground="White" Click="BtnCancel_Click"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
